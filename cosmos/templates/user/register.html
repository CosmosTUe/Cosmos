{% extends "base.html" %}

{% load static %}

{% block title %}
    Create User
{% endblock %}

{% block content %}

<div class="register">

    {% if messages %}
        <ul>
            {% for message in messages %}
            <li>{{ message }}</li>
            {% endfor %}
        </ul>
    {% endif %}

    <form method="post" action="{% url 'user_register' %}" novalidate>
        {% csrf_token %}

        <div class="mb-5">
            <img src="{% static "cosmos/img/cosmos_white_horizontal.png" %}" class="img-fluid mx-auto d-block" alt="Cosmos logo">
        </div>

        <div class="form-group">
            <input class="form-control" type="text" name="first_name" maxlength="30" required="" id="id_first_name" placeholder="First name">
        </div>

        <div class="form-group">
            <input class="form-control" type="text" name="last_name" maxlength="30" required="" id="id_last_name" placeholder="Last name">
        </div>

        <div class="form-group">
            <input class="form-control {% if user_form.username.errors|length > 0 %} is-invalid {% endif %}" type="email" name="username" maxlength="254" autofocus="" required="" id="id_username" placeholder="TU/e email">
            <p class="help">{{ field.help_text|safe }}</p>
        </div>

        <div class="form-group">
            <input class="form-control" type="email" name="email" maxlength="254" id="id_email" placeholder="Personal email (optional)">
        </div>

        <div class="form-group">
            <input class="form-control" type="password" name="password1" autocomplete="new-password" required="" id="id_password1" placeholder="Password">
        </div>

        <div class="form-group">
            <input class="form-control" type="password" name="password2" autocomplete="new-password" required="" id="id_password2" placeholder="Password confirmation">
        </div>

        <div class="form-group">
            <select class="form-control" id="{{ profile_form.nationality.id_for_label }}" name="{{ profile_form.nationality.html_name }}">
                {% for id, name in profile_form.nationality.field.choices %}
                <option value="{{ id }}"{% if profile_form.nationality.value == id %} selected{% endif %}>{{ name }}</option>
                {% endfor %}
            </select> 
        </div>

        <div class="form-group">
            <select class="form-control" id="{{ profile_form.department.id_for_label }}" name="{{ profile_form.department.html_name }}">
                {% for id, name in profile_form.department.field.choices %}
                <option value="{{ id }}"{% if profile_form.department.value == id %} selected{% endif %}>{{ name }}</option>
                {% endfor %}
            </select> 
        </div>

        <div class="form-group">
            <select class="form-control" id="{{ profile_form.program.id_for_label }}" name="{{ profile_form.program.html_name }}">
                {% for id, name in profile_form.program.field.choices %}
                <option value="{{ id }}"{% if profile_form.program.value == id %} selected{% endif %}>{{ name }}</option>
                {% endfor %}
            </select> 
        </div>

        <div class="form-group">
            <label class="form-check">
                <input class="form-check-input" type="checkbox"/>
                I agree to the <a href="#" data-toggle="modal" data-target="#termsModal">term and conditions</a>.
            </label>
        </div>

        <div class="form-group">
            <button class="btn btn-primary btn-block" background-color="#90cad5" type="submit" name="submit" value="Register">Register</button>
        </div>
    </form>
</div>

<div class="modal fade" id="termsModal" tabindex="-1" role="dialog" aria-labelledby="termsModalTitle" aria-hidden="true">
    <div class="modal-dialog modal-dialog-scrollable" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="termsModalTitle">Terms and Conditions</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <p>Lorem ipsum dolor sit amet</p>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-primary" data-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>

<script>
    $(function() {
        $('[data-toggle="popover"]').popover()
    })
</script>

{% endblock %}